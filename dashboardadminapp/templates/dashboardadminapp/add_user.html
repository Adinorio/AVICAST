<div 
  x-show="open" 
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100"
  x-transition:leave="transition ease-in duration-200"
  x-transition:leave-start="opacity-100"
  x-transition:leave-end="opacity-0"
  class="fixed inset-0 z-50 flex justify-end backdrop-blur-sm bg-black bg-opacity-30"
>
  <div 
    @click.away="open = false"
    class="bg-white w-full max-w-md h-full p-8 overflow-y-auto relative transition-transform duration-300"
  >
    <!-- Close -->
    <button @click="open = false"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">&times;</button>

    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Create User</h2>

    <form method="post">
      {% csrf_token %}

      <!-- Role -->
      <div class="mb-4">
        <label class="block text-gray-600 text-sm mb-1">Role</label>
        <select name="role" required
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500">
          <option value="">Select role</option>
          <option value="SuperAdmin">Super Admin</option>
          <option value="Admin">Admin</option>
          <option value="User">Field Worker</option>
        </select>
      </div>

      <!-- First Name -->
      <div class="mb-4">
        <label class="block text-gray-600 text-sm mb-1">First Name</label>
        <input type="text" name="first_name" placeholder="Required field" required
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500">
      </div>

      <!-- Last Name -->
      <div class="mb-4">
        <label class="block text-gray-600 text-sm mb-1">Last Name</label>
        <input type="text" name="last_name" placeholder="Required field" required
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500">
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label class="block text-gray-600 text-sm mb-1">Password</label>
        <input type="password" name="password" placeholder="Enter password" required
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500">
      </div>

      <!-- Confirm Password -->
      <div class="mb-4">
        <label class="block text-gray-600 text-sm mb-1">Confirm Password</label>
        <input type="password" name="confirm_password" placeholder="Repeat password" required
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500">
      </div>

      <!-- Note -->
      <p class="text-gray-500 text-sm mb-6 flex items-center gap-1">
        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z" />
        </svg>
        Check required fields before proceeding.
      </p>

      <!-- Buttons -->
      <div class="flex flex-col gap-2">
        <button type="submit"
          class="bg-green-600 text-white text-sm py-2 rounded hover:bg-green-700">Create Account</button>
        <button type="button" @click="open = false"
          class="bg-gray-800 text-white text-sm py-2 rounded hover:bg-gray-900">Cancel</button>
      </div>
    </form>
  </div>
</div>
