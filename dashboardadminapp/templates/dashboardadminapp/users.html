{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- Statistics Cards -->
<div class="grid grid-cols-3 gap-4 mb-6">
  <div class="bg-white rounded-xl shadow p-6 text-center">
    <h3 class="text-gray-500 text-sm">Super Admin</h3>
    <p class="text-green-600 text-3xl font-bold mt-2">1</p>
  </div>
  <div class="bg-white rounded-xl shadow p-6 text-center">
    <h3 class="text-gray-500 text-sm">Admin</h3>
    <p class="text-green-600 text-3xl font-bold mt-2">2</p>
  </div>
  <div class="bg-white rounded-xl shadow p-6 text-center">
    <h3 class="text-gray-500 text-sm">Field Worker</h3>
    <p class="text-green-600 text-3xl font-bold mt-2">10</p>
  </div>
</div>

<!-- Users Management Card -->
<div class="bg-white rounded-xl shadow p-6">

  <!-- Top Section: Tabs + Search & Actions -->
  <div class="flex flex-wrap items-center justify-between mb-5">

    <!-- Tabs -->
    <div class="flex gap-2 mb-2">
      <button class="px-4 py-1.5 rounded border border-gray-300 text-sm bg-green-50 text-green-700">View all</button>
      <button class="px-4 py-1.5 rounded border border-gray-300 text-sm text-gray-600">Admin</button>
      <button class="px-4 py-1.5 rounded border border-gray-300 text-sm text-gray-600">Field Workers</button>
      <button class="px-4 py-1.5 rounded border border-gray-300 text-sm text-gray-600">Disabled</button>
    </div>

    <!-- Search & Buttons -->
    <div class="flex items-center gap-2 mb-2">
      <input type="text" placeholder="Search"
        class="border border-gray-300 rounded px-3 py-1.5 text-sm focus:outline-none w-64">
      <button class="p-2 border border-gray-300 rounded">
        <img src="{% static 'images/filter-icon.svg' %}" class="w-4 h-4" alt="Filter">
      </button>
      <a href="{% url 'dashboardadminapp:add_user' %}"
        class="bg-green-600 text-white px-4 py-2 rounded text-sm">+ Add User</a>
    </div>

  </div>

  <!-- Table -->
  <div class="overflow-x-auto">
    <table class="w-full text-sm text-left border-t">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-4 py-3">User ID</th>
          <th class="px-4 py-3">Date</th>
          <th class="px-4 py-3">User Role</th>
          <th class="px-4 py-3">Full Name</th>
          <th class="px-4 py-3">Status</th>
          <th class="px-4 py-3">Time</th>
          <th class="px-4 py-3">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr class="border-b hover:bg-gray-50">
          <td class="px-4 py-3 font-medium text-gray-800">{{ user.id_number }}</td>
          <td class="px-4 py-3 text-gray-600">{{ user.date_joined|date:"d F Y" }}</td>
          <td class="px-4 py-3 text-gray-600">{{ user.role }}</td>
          <td class="px-4 py-3 text-gray-800">{{ user.full_name }}</td>
          <td class="px-4 py-3">
            <span
              class="px-2 py-1 rounded text-xs font-medium {% if user.status == 'Active' %}bg-green-100 text-green-700{% else %}bg-orange-100 text-orange-700{% endif %}">
              {{ user.status }}
            </span>
          </td>
          <td class="px-4 py-3 text-gray-600">10:00 AM</td>
          <td class="px-4 py-3">
            <a href="{% url 'dashboardadminapp:edit_user' user.id %}"
              class="text-gray-600 hover:text-gray-800">
              <img src="{% static 'images/gear-icon.svg' %}" class="w-5 h-5" alt="Settings">
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="7" class="text-center py-6 text-gray-500">No users found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>

{% endblock %}
